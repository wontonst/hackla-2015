<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>MindMe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link href="scripts/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="scripts/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Icons -->
    <link href="scripts/icons/general/stylesheets/general_foundicons.css" media="screen" rel="stylesheet" type="text/css" />  
    <link href="scripts/icons/social/stylesheets/social_foundicons.css" media="screen" rel="stylesheet" type="text/css" />
    <link type="text/css" rel="stylesheet" href="styles/youtube.css" />
    <!--[if lt IE 8]>
        <link href="scripts/icons/general/stylesheets/general_foundicons_ie7.css" media="screen" rel="stylesheet" type="text/css" />
        <link href="scripts/icons/social/stylesheets/social_foundicons_ie7.css" media="screen" rel="stylesheet" type="text/css" />
    <![endif]-->



    <link href="http://fonts.googleapis.com/css?family=Chewy" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Abel" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Terminal+Dosis+Light" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Maven+Pro" rel="stylesheet" type="text/css">

    <link href="styles/custom.css" rel="stylesheet" type="text/css" />
    <script src="scripts/js/Chart.js"></script>
        <!-- include jQuery -->
<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
<!-- include font awesome -->
<link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<!-- jQuery Youtube Channels Playlist -->
<script src="/scripts/js/ycp.js"></script>
<!-- Custom style Youtube Channels Playlist -->
</head>
<body id="pageBody">

<script type='text/javascript' src='http://creativesocialworker.tumblr.com/api/read/json?number=8&type=photo'></script>

<!-- RSS Feed for Happy */ -->
<script id="scrnewsblock21505083" type="text/javascript"></script>
<script type="text/javascript"> /* <![CDATA[ */ 
setTimeout('document.getElementById(\'scrnewsblock21505083\').src = (document.location.protocol == \'https:\' ? \'https\' : \'http\') + \'://www.poweringnews.com/newsjavascript.aspx?feedurl=http%3A//www.huffingtonpost.com/feeds/verticals/good-news/index.xml&maxitems=-1&showfeedtitle=0&showtitle=1&showdate=1&showsummary=1&showauthor=0&showactionsbox=0&showrsslink=0&showcopyright=1&opennewwindow=0&inheritstyles=1&bgcolor=%23FFFFFF&titlefontsize=10&summaryfontsize=10&fontfamily=Arial%2CHelvetica&titlecolor=%230000CC&summarycolor=%23000000&sepstyle=none&sepcolor=%23A0A0A0&objectid=newsblock21505083\'', 500);
 /* ]]> */ </script>

 <!-- RSS Feed for Sad -->
 <script id="scrnewsblock67195436" type="text/javascript"></script>
<script type="text/javascript"> /* <![CDATA[ */ 
setTimeout('document.getElementById(\'scrnewsblock67195436\').src = (document.location.protocol == \'https:\' ? \'https\' : \'http\') + \'://www.poweringnews.com/newsjavascript.aspx?feedurl=http%3A//www.huffingtonpost.com/feeds/verticals/gps-for-the-soul/index.xml&maxitems=-1&showfeedtitle=0&showtitle=1&showdate=1&showsummary=1&showauthor=0&showactionsbox=0&showrsslink=0&showcopyright=1&opennewwindow=0&inheritstyles=1&bgcolor=%23FFFFFF&titlefontsize=10&summaryfontsize=10&fontfamily=Arial%2CHelvetica&titlecolor=%230000CC&summarycolor=%23000000&sepstyle=none&sepcolor=%23A0A0A0&objectid=newsblock67195436\'', 500);
 /* ]]> */ </script>

 <!-- RSS Feed for Angry -->
 <script id="scrnewsblock73091765" type="text/javascript"></script>
<script type="text/javascript"> /* <![CDATA[ */ 
setTimeout('document.getElementById(\'scrnewsblock73091765\').src = (document.location.protocol == \'https:\' ? \'https\' : \'http\') + \'://www.poweringnews.com/newsjavascript.aspx?feedurl=https%3A//www.psychologytoday.com/collections/feed&maxitems=-1&showfeedtitle=0&showtitle=1&showdate=1&showsummary=1&showauthor=0&showactionsbox=0&showrsslink=0&showcopyright=1&opennewwindow=0&inheritstyles=1&bgcolor=%23FFFFFF&titlefontsize=10&summaryfontsize=10&fontfamily=Arial%2CHelvetica&titlecolor=%230000CC&summarycolor=%23000000&sepstyle=none&sepcolor=%23A0A0A0&objectid=newsblock73091765\'', 500);
 /* ]]> */ </script>

 <!-- RSS Feed for Surprise -->
 <script id="scrnewsblock69571350" type="text/javascript"></script>
<script type="text/javascript"> /* <![CDATA[ */ 
setTimeout('document.getElementById(\'scrnewsblock69571350\').src = (document.location.protocol == \'https:\' ? \'https\' : \'http\') + \'://www.poweringnews.com/newsjavascript.aspx?feedurl=http%3A//www.huffingtonpost.com/feeds/verticals/weird-news/index.xml&maxitems=-1&showfeedtitle=0&showtitle=1&showdate=1&showsummary=1&showauthor=0&showactionsbox=0&showrsslink=0&showcopyright=1&opennewwindow=0&inheritstyles=1&bgcolor=%23FFFFFF&titlefontsize=10&summaryfontsize=10&fontfamily=Arial%2CHelvetica&titlecolor=%230000CC&summarycolor=%23000000&sepstyle=none&sepcolor=%23A0A0A0&objectid=newsblock69571350\'', 500);
 /* ]]> */ </script>




<script type="text/javascript">
function doLoad() {
   var fieldNameElement = document.getElementById("emotionText");
   console.log(localStorage.getItem("Sum"));
   fieldNameElement.innerHTML = "<span class='label label-success'>Happy</span>" + "   "+ Math.round(localStorage.getItem("Happy")/localStorage.getItem("Sum") * 100) + " %" + "<br>" + "<span class='label label-important'>Angry</span>"+"   " + Math.round(localStorage.getItem("Angry")/localStorage.getItem("Sum") * 100)+ " %"+ "<br>" + "<span class='label label-warning'>Sad</span>"+ "   " + Math.round(localStorage.getItem("Sad")/localStorage.getItem("Sum")*100) + " %" + "<br>" + "<span class='label label-default'>Surprised</span>"+ "   " + Math.round(localStorage.getItem("Surprised")/localStorage.getItem("Sum")*100)+" %";

    
    var emotionDis = document.getElementById("moodDisplay");
    var tUmblr = document.getElementById("tumblr");
    if (localStorage.getItem("Happy") == Math.max(localStorage.getItem("Happy"), localStorage.getItem("Sad"), localStorage.getItem("Surprised"), localStorage.getItem("Angry")) )
            {
                emotionDis.innerHTML = "Your recommendations for a happy mood";
                tUmblr.innerHTML = "<iframe width='280' height='107' src='https://www.youtube.com/embed/j5-yKhDd64s?list=PLB8A0A36C6E4EE923' frameborder='0' allowfullscreen></iframe>" + "<br>" + "<iframe width='280' height='107' src='https://www.youtube.com/embed/y6Sxv-sUYtM?list=PLvnSQ3lF3-el3YKcqRbxJ1W1sXK6rqBpg' frameborder='0' allowfullscreen></iframe>" + "<br>" + "<div style='border-style: none;border-width: 0;border-color: #FFFFFF;overflow: visible;''><div id='newsblock21505083' style='word-wrap: break-word; padding: 5px;'><div align='center' style='font-size: 8pt;'><br /><a href='http://www.blastcasta.com/' style='' target='_top'><b>News Widgets &amp; Tickers</b><br />Powered by BlastCasta</a></div></div></div>";
            }
    else if (localStorage.getItem("Sad") == Math.max(localStorage.getItem("Happy"), localStorage.getItem("Sad"), localStorage.getItem("Surprised"), localStorage.getItem("Angry")) )
            {
                emotionDis.innerHTML = "Your recommendations for a sad mood";
                tUmblr.innerHTML = "<iframe width='280' height='107' src='https://www.youtube.com/embed/E4a82LRNdlQ?list=PL49743286D69CEFD0' frameborder='0' allowfullscreen></iframe>" + "<br>" + "<iframe width='280' height='107' src='https://www.youtube.com/embed/BzE1mX4Px0I?list=PL843272218EF0904B' frameborder='0' allowfullscreen></iframe>" + "<br>" + "<div style='border-style: none;border-width: 0;border-color: #FFFFFF;overflow: visible;''><div id='newsblock67195436' style='word-wrap: break-word; padding: 5px;'><div align='center' style='font-size: 8pt;'><br /><a href='http://www.blastcasta.com/' style='' target='_top'><b>News Widgets &amp; Tickers</b><br />Powered by BlastCasta</a></div></div></div>";
            }
    
    else if (localStorage.getItem("Angry") == Math.max(localStorage.getItem("Happy"), localStorage.getItem("Sad"), localStorage.getItem("Surprised"), localStorage.getItem("Angry")) )
            {
                emotionDis.innerHTML = "Your recommendations for an angry mood";
                tUmblr.innerHTML = "<iframe width='280' height='107' src='https://www.youtube.com/embed/jEHn1klnIpg?list=PLYyGHFw5TzevPUEn33HfjG7p-6tHSZneX' frameborder='0' allowfullscreen></iframe>" + "<br>" + "<iframe width='280' height='107' src='https://www.youtube.com/embed/CcsUYu0PVxY' frameborder='0' allowfullscreen></iframe>" + "<br>" + "<div style='border-style: none;border-width: 0;border-color: #FFFFFF;overflow: visible;'><div id='newsblock73091765' style='word-wrap: break-word; padding: 5px;'><div align='center' style='font-size: 8pt;'><br /><a href='http://www.blastcasta.com/' style='' target='_top'><b>News Widgets &amp; Tickers</b><br />Powered by BlastCasta</a></div></div></div>";
            }

    if (localStorage.getItem("Surprised") == Math.max(localStorage.getItem("Happy"), localStorage.getItem("Sad"), localStorage.getItem("Surprised"), localStorage.getItem("Angry")) )
            {
                emotionDis.innerHTML = "Your recommendations for a surprised mood";
                tUmblr.innerHTML = "<iframe width='280' height='107' src='https://www.youtube.com/embed/-UaW6zYQDQE?list=PL9A7F2559E096E47E' frameborder='0' allowfullscreen></iframe>" + "<br>" + "<iframe width='280' height='107' src='https://www.youtube.com/embed/-wfYPlTPaTU?list=PLR0UcAS54wZqCM6u5lfFihJcrYNc6C4Fy' frameborder='0' allowfullscreen></iframe>" + "<br>" + "<div style='border-style: none;border-width: 0;border-color: #FFFFFF;overflow: visible;'><div id='newsblock69571350' style='word-wrap: break-word; padding: 5px;'><div align='center' style='font-size: 8pt;'><br /><a href='http://www.blastcasta.com/' style='' target='_top'><b>News Widgets &amp; Tickers</b><br />Powered by BlastCasta</a></div></div></div>";
            }

}

if ( window.addEventListener ) { 
   window.addEventListener( "load", doLoad, false );
}
else 
   if ( window.attachEvent ) { 
      window.attachEvent( "onload", doLoad );
} else 
       if ( window.onLoad ) {
         window.onload = doLoad;
}
</script>



<div id="divBoxed" class="container">

    <div class="transparent-bg" style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: -1;zoom: 1;"></div>

    <div class="divPanel notop nobottom">
            <div class="row-fluid">
                <div class="span12">

                    <div id="divLogo">
                        <a href="index.html" id="divSiteTitle">MirrorMe</a><br />
                        <a href="index.html" id="divTagLine">A Portable Smart Mirror.</a>
                    </div>

	            </div>
            </div>   
            <div class="row-fluid">
                <div class="span12">
    					
                    <div id="divMenuRight" class="pull-right">
                    <div class="navbar">
                        <button type="button" class="btn btn-navbar-highlight btn-large btn-primary" data-toggle="collapse" data-target=".nav-collapse">
                            NAVIGATION <span class="icon-chevron-down icon-white"></span>
                        </button>
                        <div class="nav-collapse collapse">
                            <ul class="nav nav-pills ddmenu">
                                <li class="dropdown"><a href="index.html">Home</a></li>
                            </ul>
                        </div>
                    </div>
                    </div>

	            </div>
            </div>

            <div class="row-fluid">
                <div class="span12">
                    <div id="contentInnerSeparator"></div>
                </div>
            </div>
    </div>

    <div class="contentArea">

        <div class="divPanel notop page-content">

            <div class="breadcrumbs">
                <a href="index.html">Home</a> &nbsp;/&nbsp; <span>Dashboard</span>
            </div>

            <div class="row-fluid">
                <div class="span8">

                    <h1>MindMe Dashboard</h1>
        
                    
<script>
var doughnutData = [
{
value: localStorage.getItem("Angry"),
color:"#F7464A",
highlight: "#FF5A5E",
label: "Angry"
},
{
value: localStorage.getItem("Happy"),
color: "#006600",
highlight: "#5AD3D1",
label: "Happy"
},
{
value: localStorage.getItem("Sad"),
color: "#FDB45C",
highlight: "#FFC870",
label: "Sad"
},
{
value: localStorage.getItem("Surprised"),
color: "#949FB1",
highlight: "#A8B3C5",
label: "Surprised"
}
];
window.onload = function(){
var ctx = document.getElementById("chart-area").getContext("2d");
window.myDoughnut = new Chart(ctx).Doughnut(doughnutData, {responsive : true});
};
</script>
	            
            <!--<h2>Dropdown</h2>
            <ul class="nav nav-pills">
                <li class="dropdown">
                <a class="dropdown-toggle" id="drop4" role="button" data-toggle="dropdown" href="#">Dropdown <b class="caret"></b></a>
                <ul id="menu1" class="dropdown-menu" role="menu" aria-labelledby="drop4">
                    <li><a tabindex="-1" href="javascript:">Option 1</a></li>
                    <li><a tabindex="-1" href="javascript:">Option 2</a></li>
                    <li><a tabindex="-1" href="javascript:">Option 3</a></li>
                </ul>
                </li>
            </ul>
            <br />-->

            <h2>Tabs</h2>
            <ul class="nav nav-tabs">
                <li class="active"><a href="#today" data-toggle="tab">Today</a></li>
                <li><a href="#alltime" data-toggle="tab">All time</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade in active" id="today">
                    <div class="hero-unit">         
                        <h1>My Mirror Readings Today</h1>
                        <br>  
                        <p id="emotionText">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content.</p>  
                        <div id="canvas-holder">
                            <canvas id="chart-area" width="150" height="150"/>
                        </div>
                    </div>
                </div>
<div class='tab-pane fade in active' id='alltime'>
<div class='hero-unit'>
                        <h1>My All Time Mirror Readings</h1>
                        <br>  
                        <p id="emotionText2">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content.</p>  
                        <div id="canvas-holder">
                            <canvas id="chart-area2" width="150" height="150"/>
                        </div>
</div>
</div>
            </div> 
           </div>


                <div class="span4">
                    <h2 id="moodDisplay"> Recommendations </h2>

                    <br />

                    <div id="tumblr"> </div>
                  </div>

                </div>
            </div>

            <div id="footerInnerSeparator"></div>
        </div>
    </div>

    <div id="footerOuterSeparator"></div>

    <div id="divFooter" class="footerArea">

        <div class="divPanel">

            <div class="row-fluid">
                <div class="span3" id="footerArea1">
                
                    <h3>About Company</h3>

                    <p>Learn to be more emotionally aware. Perhaps, you aren't. That's alright! MindMe offers you the insight into your mind that you need.</p>

                </div>
                <div class="span3" id="footerArea3">

                    <h3>MindMe</h3> 
                    <p>Customized content, based on how you feel. </p>
                 

                </div>
                <div class="span3" id="footerArea4">

                    <h3>Get in Touch</h3>  
                                                               
                    <ul id="contact-info">
                    <li>                                    
                        <i class="general foundicon-phone icon"></i>
                        <span class="field">Phone:</span>
                        <br />
                        (123) 456 7890 / 456 7891                                                                      
                    </li>
                    <li>
                        <i class="general foundicon-mail icon"></i>
                        <span class="field">Email:</span>
                        <br />
                        <a href="mailto:info@yourdomain.com" title="Email">info@yourdomain.com</a>
                    </li>
                    <li>
                        <i class="general foundicon-home icon" style="margin-bottom:50px"></i>
                        <span class="field">Address:</span>
                        <br />
                        123 Street<br />
                        12345 City, State<br />
                        Country
                    </li>
                    </ul>

                </div>
            </div>

            <br /><br />
            <div class="row-fluid">
                <div class="span12">
                    <p class="copyright">
                        Copyright © 2013 Your Company. All Rights Reserved. Thanks to <a href="http://www.oswt.co.uk/">oswt</a>
                    </p>

                </div>
            </div>

        </div>
    </div>
</div>
<br /><br /><br />



<script src="scripts/jquery-1.8.2.min.js" type="text/javascript"></script> 
<script src="scripts/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="scripts/default.js" type="text/javascript"></script>


<script>
$(function(){
var head = {};
head.Authorization="Token "+localStorage.getItem('token');     
$.ajax({
  url: "/api/moods/",
headers: head,
type: 'GET'
})
  .done(function( data ) {
console.log(data);

var angry=0;
var sad=0;
var surprised=0;
var happy=0;
for(var i = 0 ; i != data.length; i++){
happy += data[i].happy;
sad += data[i].sad;
angry += data[i].angry;
surprised += data[i].surprised;
}

var doughnutData2 = [
{
value: angry,
color:"#F7464A",
highlight: "#FF5A5E",
label: "Angry"
},
{
value: happy,
color: "#006600",
highlight: "#5AD3D1",
label: "Happy"
},
{
value: sad,
color: "#FDB45C",
highlight: "#FFC870",
label: "Sad"
},
{
value: surprised,
color: "#949FB1",
highlight: "#A8B3C5",
label: "Surprised"
}
];
window.onload = function(){
var ctx = document.getElementById("chart-area2").getContext("2d");
window.myDoughnut2 = new Chart(ctx).Doughnut(doughnutData2, {responsive : true});
  };


   var fieldNameElement = document.getElementById("emotionTexts2");
   fieldNameElement.innerHTML = "<span class='label label-success'>Happy</span>" + "   "+ Math.round(happy/sum * 100) + " %" + "<br>" + "<span class='label label-important'>Angry</span>"+"   " + Math.round(angry/sum * 100)+ " %"+ "<br>" + "<span class='label label-warning'>Sad</span>"+ "   " + Math.round(sad/sum*100) + " %" + "<br>" + "<span class='label label-default'>Surprised</span>"+ "   " + Math.round(surprised/sum*100) + " %";
});
});
</script>


</body>
</html>
